# מדריך בוט הצ'אט - A.B Deliveries

## מה נוסף?

בוט צ'אט אינטראקטיבי בעברית שמופיע בצד התחתון של האתר! 💬

## תכונות הבוט

✅ **ממשק צף ויפה** - כפתור צף בצד התחתון שפותח חלון צ'אט  
✅ **שיחה בעברית** - הבוט מדבר רק עברית  
✅ **שמירת הקשר** - זוכר את השיחה לאורך כל הסשן  
✅ **תגובות מהירות** - כפתורים מהירים לשאלות נפוצות  
✅ **זיכרון משתמש** - שומר את השם והטלפון ב-LocalStorage  

## איך זה עובד?

### 1. כפתור הבוט
- מופיע בפינה הימנית התחתונה 📱
- לחיצה עליו פותחת את חלון הצ'אט
- לחיצה נוספת סוגרת

### 2. הזנת פרטים (פעם ראשונה)
המשתמש מזין:
- שם מלא
- מספר טלפון

הפרטים נשמרים ב-LocalStorage!

### 3. שיחה עם הבוט
- הקלדת הודעות
- קבלת תשובות מהאייג'נט
- שימוש בכפתורים מהירים

### 4. איפוס שיחה
כפתור 🔄 בכותרת - מאפס את השיחה ומוחק פרטים

## הרצת האתר

```bash
# מתיקיית frontend-web
npm start
```

האתר יפתח ב-`http://localhost:3000`

## חיבור לשרת הבוט

הבוט מתחבר ל:
```
http://localhost:4000/agent/chat
```

### ⚠️ חשוב!

**יש להריץ גם את השרת של הבוט:**

```bash
# בטרמינל נפרד - מתיקיית server-node
npm start
```

השרת חייב לרוץ על פורט 4000!

## התאמה אישית

### שינוי צבעים

ערוך את `src/components/ChatBot.css`:

```css
/* שינוי צבע הכפתור */
.chat-button {
  background: linear-gradient(135deg, #4a90e2, #357abd);
}

/* שינוי צבע ההודעות */
.message.user .message-content {
  background: linear-gradient(135deg, #4a90e2, #357abd);
}
```

### שינוי כותרת

ערוך את `src/components/ChatBot.js`:

```javascript
<div className="chat-header">
  <div>
    <h3>A.B Deliveries</h3> {/* שנה כאן */}
    <p>נציג וירטואלי</p> {/* שנה כאן */}
  </div>
```

### שינוי הצעות מהירות

```javascript
<div className="quick-actions">
  <button onClick={() => setInput('ההודעה שלך כאן')}>
    📦 הטקסט על הכפתור
  </button>
</div>
```

## פתרון בעיות

### הבוט לא מגיב

1. ✅ ודא ששרת הבוט רץ (`server-node/npm start`)
2. ✅ בדוק שהפורט 4000 פנוי
3. ✅ פתח Console ב-DevTools וחפש שגיאות
4. ✅ ודא שה-.env בשרת מוגדר נכון

### הכפתור לא מופיע

1. ✅ ודא שהקומפוננט מיובא ב-App.js
2. ✅ בדוק שאין שגיאות ב-Console
3. ✅ רענן את העמוד

### הבוט אומר שיש שגיאה

1. ✅ בדוק את לוגים בטרמינל של השרת
2. ✅ ודא ש-.env מכיל OPENAI_API_KEY
3. ✅ בדוק שיש אינטרנט (לOpenAI)

## מבנה הקבצים

```
frontend-web/src/
├── components/
│   ├── ChatBot.js      # קומפוננט הבוט
│   └── ChatBot.css     # עיצוב הבוט
├── App.js              # (עודכן - כולל את הבוט)
└── ...
```

## תזרים העבודה

```
משתמש לוחץ על כפתור הבוט
    ↓
מזין שם וטלפון (פעם ראשונה)
    ↓
כותב הודעה
    ↓
הודעה נשלחת ל-server-node/agent/chat
    ↓
האייג'נט מעבד (LangChain + GPT-4o-mini)
    ↓
תשובה בעברית חוזרת
    ↓
הודעה מוצגת בצ'אט
```

## טיפים

### 1. שימוש בדוגמאות
כשהבוט פתוח, נסה:
- "אני רוצה לבדוק משלוח 12345"
- "מה המחיר למשלוח?"
- "אני רוצה להזמין משלוח"

### 2. בדיקת מצב השרת
לפני שמתחילים לבדוק את הבוט:

```bash
# בדוק ששרת הבוט רץ
curl http://localhost:4000/random-message
```

אם מקבל תשובה JSON - השרת עובד! ✅

### 3. LocalStorage
פתח DevTools → Application → Local Storage → `localhost:3000`

תראה:
- `abDeliveriesUserName`
- `abDeliveriesUserPhone`

### 4. ניקוי זיכרון
אם רוצה להתחיל מחדש - לחץ על כפתור 🔄 בכותרת הצ'אט

## אפשרויות עתידיות

רעיונות לשיפורים:
- 📸 העלאת תמונות
- 🔔 התראות
- 📍 מעקב מיקום משלוח
- ⭐ דירוג השיחה
- 📥 שמירת היסטוריית שיחות
- 🎤 הודעות קוליות

## תמיכה

אם יש בעיות:
1. בדוק את ה-Console ב-Browser
2. בדוק את הלוגים בטרמינל של השרת
3. ודא שהגרסאות של הספריות מתאימות

---

**הבוט מוכן לשימוש! 🎉**

פשוט הפעל את שני השרתים:
1. `frontend-web/npm start` (פורט 3000)
2. `server-node/npm start` (פורט 4000)

ותראה את הבוט בפעולה!

